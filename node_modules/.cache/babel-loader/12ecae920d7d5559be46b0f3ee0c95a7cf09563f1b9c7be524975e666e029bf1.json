{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-86d42058\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = [\"value\", \"ttr\", \"maxlength\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _mergeProps({\n    \"class\": \"component text\"\n  }, _ctx.$attrs, {\n    style: \"height:\".concat($setup.todoTextHeight, \"px;\")\n  }), [_createElementVNode(\"textarea\", {\n    type: \"text\",\n    \"class\": \"text__item\",\n    value: $props.modelValue,\n    ttr: $props.modelValue,\n    maxlength: $props.maxLength,\n    onInput: $setup.returnValue,\n    onChange: $setup.returnValue,\n    onBlur: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.$emit('input:blur');\n    }),\n    ref: \"item\",\n    style: _normalizeStyle(\"overflow-y: \".concat($setup.todoTextHeight >= 200 ? 'scroll' : 'hidden'))\n  }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, _hoisted_1)], 16 /* FULL_PROPS */);\n}","map":{"version":3,"names":["_createElementBlock","_mergeProps","_ctx","$attrs","style","concat","$setup","todoTextHeight","_createElementVNode","type","value","$props","modelValue","ttr","maxlength","maxLength","onInput","returnValue","onChange","onBlur","_cache","$event","$emit","ref","_normalizeStyle"],"sources":["C:\\Users\\Setis\\Documents\\alex\\vue-todo-app\\src\\components\\AppTodoText.vue"],"sourcesContent":["<template>\r\n    <div\r\n        class=\"component text\"\r\n        v-bind=\"$attrs\"\r\n        :style=\"`height:${todoTextHeight}px;`\"\r\n    >\r\n        <textarea\r\n            type=\"text\"\r\n            class=\"text__item\"\r\n            :value=\"modelValue\"\r\n            :ttr=\"modelValue\"\r\n            :maxlength=\"maxLength\"\r\n            @input=\"returnValue\"\r\n            @change=\"returnValue\"\r\n            @blur=\"$emit('input:blur')\"\r\n            ref=\"item\"\r\n            :style=\"`overflow-y: ${\r\n                todoTextHeight >= 200 ? 'scroll' : 'hidden'\r\n            }`\"\r\n        ></textarea>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"app-todo-text\",\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { defineEmits, defineProps, onMounted, ref, useAttrs } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    modelValue: { type: String, required: false, default: \"\" },\r\n    placeholder: { type: String, required: false, default: \"\" },\r\n    focus: { type: Boolean, required: false, default: false },\r\n    maxLength: { type: Number, required: false, default: 512 },\r\n});\r\nconst emit = defineEmits([\r\n    \"input\",\r\n    \"update:modelValue\",\r\n    \"input:addInput\",\r\n    \"input:blur\",\r\n]);\r\nconst attrs = useAttrs();\r\n\r\nconst item = ref(null);\r\nconst todoTextHeight = ref(20);\r\n\r\nfunction returnValue(event) {\r\n    textAreaHeightResizeFunction(\r\n        event.target.value.replaceAll(\"\\n\", \"</br>\"),\r\n        event.target.getBoundingClientRect().width,\r\n        getComputedStyle(event.target).fontSize\r\n    );\r\n    emit(\"update:modelValue\", event.target.value);\r\n}\r\n\r\nfunction textAreaHeightResizeFunction(value, width, font) {\r\n    const blockForInfo = document.createElement(\"div\");\r\n\r\n    blockForInfo.className = \"textAreaHeightResize\";\r\n    document.querySelector(\"main\").append(blockForInfo);\r\n\r\n    blockForInfo.innerHTML = \"\";\r\n    blockForInfo.innerHTML = value;\r\n\r\n    blockForInfo.style = `width: ${width}px; word-wrap: break-word; font-size: ${font};`;\r\n\r\n    let newHeight = blockForInfo.getBoundingClientRect().height + 5;\r\n    if (attrs.class == \"default\") newHeight += 19; // <!-- ? Default text first line-break padding -->\r\n\r\n    if (newHeight < 20) newHeight = 20;\r\n    else if (newHeight > 200) newHeight = 200;\r\n\r\n    todoTextHeight.value = newHeight;\r\n\r\n    blockForInfo.remove();\r\n}\r\n\r\nonMounted(() => {\r\n    textAreaHeightResizeFunction(\r\n        props.modelValue.replaceAll(\"\\n\", \"</br>\"),\r\n        item.value.getBoundingClientRect().width\r\n    );\r\n    if (props.focus == true) {\r\n        item.value.focus();\r\n    }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/vars\";\r\n.component.text {\r\n    textarea {\r\n        background-color: transparent;\r\n        border: none;\r\n        outline: none;\r\n        resize: none;\r\n\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        color: vars.$color-g-white;\r\n        transition: 1s;\r\n        line-height: 18px;\r\n\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    &.default {\r\n        textarea {\r\n            &::placeholder {\r\n                color: vars.$color-g-white;\r\n            }\r\n        }\r\n\r\n        &[status=\"true\"] {\r\n            textarea {\r\n                text-decoration: line-through;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;uBACIA,mBAAA,CAmBM,OAnBNC,WAAA,CAmBM;IAlBF,SAAM;EAAgB,GACdC,IAAA,CAAAC,MAAM;IACbC,KAAK,YAAAC,MAAA,CAAYC,MAAA,CAAAC,cAAc;OAEhCC,mBAAA,CAaY;IAZRC,IAAI,EAAC,MAAM;IACX,SAAM,YAAY;IACjBC,KAAK,EAAEC,MAAA,CAAAC,UAAU;IACjBC,GAAG,EAAEF,MAAA,CAAAC,UAAU;IACfE,SAAS,EAAEH,MAAA,CAAAI,SAAS;IACpBC,OAAK,EAAEV,MAAA,CAAAW,WAAW;IAClBC,QAAM,EAAEZ,MAAA,CAAAW,WAAW;IACnBE,MAAI,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEnB,IAAA,CAAAoB,KAAK;IAAA;IACZC,GAAG,EAAC,MAAM;IACTnB,KAAK,EAAAoB,eAAA,gBAAAnB,MAAA,CAAmCC,MAAA,CAAAC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}