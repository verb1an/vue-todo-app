{"ast":null,"code":"import { ref } from \"vue\";\nimport { fixEvent } from \"./fixEvent\";\nexport function useDragObject() {\n  var val = ref(null);\n  var offsetItemX = ref(0);\n  var offsetItemY = ref(0);\n  var setDragObject = function setDragObject(event) {\n    event = fixEvent(event);\n    if (event.which !== 1) return;\n    val.value = event.target.closest(\".todo__item\");\n    offsetItemX.value = event.pageX - val.value.getBoundingClientRect().left;\n    offsetItemY.value = event.pageY - val.value.getBoundingClientRect().top;\n    val.value.classList.add(\"drag\");\n    document.body.onselectstart = function () {\n      return false;\n    };\n  };\n  var removeDragObject = function removeDragObject() {\n    if (val.value) {\n      val.value.classList.remove(\"drag\");\n      val.value = null;\n      document.body.onselectstart = function () {};\n      offsetItemX.value = 0;\n      offsetItemY.value = 0;\n    }\n  };\n  return {\n    val: val,\n    setDragObject: setDragObject,\n    removeDragObject: removeDragObject,\n    offsetItemX: offsetItemX,\n    offsetItemY: offsetItemY\n  };\n}","map":{"version":3,"names":["ref","fixEvent","useDragObject","val","offsetItemX","offsetItemY","setDragObject","event","which","value","target","closest","pageX","getBoundingClientRect","left","pageY","top","classList","add","document","body","onselectstart","removeDragObject","remove"],"sources":["C:/Users/Setis/Documents/alex/vue-todo-app/src/hooks/dragObject.js"],"sourcesContent":["import { ref } from \"vue\";\r\nimport { fixEvent } from \"./fixEvent\";\r\n\r\nexport function useDragObject() {\r\n    const val = ref(null);\r\n    let offsetItemX = ref(0);\r\n    let offsetItemY = ref(0);\r\n\r\n    const setDragObject = (event) => {\r\n        event = fixEvent(event);\r\n        if(event.which !== 1) return;\r\n        val.value = event.target.closest(\".todo__item\");\r\n        offsetItemX.value = event.pageX - val.value.getBoundingClientRect().left;\r\n        offsetItemY.value = event.pageY - val.value.getBoundingClientRect().top;\r\n        val.value.classList.add(\"drag\");\r\n        document.body.onselectstart = function () {\r\n            return false;\r\n        };\r\n    }\r\n\r\n    const removeDragObject = () => {\r\n        if (val.value) {\r\n            val.value.classList.remove(\"drag\");\r\n            val.value = null;\r\n            document.body.onselectstart = function () {};\r\n\r\n            offsetItemX.value = 0;\r\n            offsetItemY.value = 0;\r\n        }\r\n    }\r\n\r\n    return {\r\n        val,\r\n        setDragObject, \r\n        removeDragObject,\r\n\r\n        offsetItemX,\r\n        offsetItemY\r\n    };\r\n}"],"mappings":"AAAA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,SAASC,aAAaA,CAAA,EAAG;EAC5B,IAAMC,GAAG,GAAGH,GAAG,CAAC,IAAI,CAAC;EACrB,IAAII,WAAW,GAAGJ,GAAG,CAAC,CAAC,CAAC;EACxB,IAAIK,WAAW,GAAGL,GAAG,CAAC,CAAC,CAAC;EAExB,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAK,EAAK;IAC7BA,KAAK,GAAGN,QAAQ,CAACM,KAAK,CAAC;IACvB,IAAGA,KAAK,CAACC,KAAK,KAAK,CAAC,EAAE;IACtBL,GAAG,CAACM,KAAK,GAAGF,KAAK,CAACG,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC;IAC/CP,WAAW,CAACK,KAAK,GAAGF,KAAK,CAACK,KAAK,GAAGT,GAAG,CAACM,KAAK,CAACI,qBAAqB,EAAE,CAACC,IAAI;IACxET,WAAW,CAACI,KAAK,GAAGF,KAAK,CAACQ,KAAK,GAAGZ,GAAG,CAACM,KAAK,CAACI,qBAAqB,EAAE,CAACG,GAAG;IACvEb,GAAG,CAACM,KAAK,CAACQ,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;IAC/BC,QAAQ,CAACC,IAAI,CAACC,aAAa,GAAG,YAAY;MACtC,OAAO,KAAK;IAChB,CAAC;EACL,CAAC;EAED,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC3B,IAAInB,GAAG,CAACM,KAAK,EAAE;MACXN,GAAG,CAACM,KAAK,CAACQ,SAAS,CAACM,MAAM,CAAC,MAAM,CAAC;MAClCpB,GAAG,CAACM,KAAK,GAAG,IAAI;MAChBU,QAAQ,CAACC,IAAI,CAACC,aAAa,GAAG,YAAY,CAAC,CAAC;MAE5CjB,WAAW,CAACK,KAAK,GAAG,CAAC;MACrBJ,WAAW,CAACI,KAAK,GAAG,CAAC;IACzB;EACJ,CAAC;EAED,OAAO;IACHN,GAAG,EAAHA,GAAG;IACHG,aAAa,EAAbA,aAAa;IACbgB,gBAAgB,EAAhBA,gBAAgB;IAEhBlB,WAAW,EAAXA,WAAW;IACXC,WAAW,EAAXA;EACJ,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}