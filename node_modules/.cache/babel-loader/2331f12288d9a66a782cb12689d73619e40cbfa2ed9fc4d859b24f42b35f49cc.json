{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-489d3ac5\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"todo__items_list\"\n};\nvar _hoisted_2 = [\"text-todo-id\", \"data-status\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_app_todo_text = _resolveComponent(\"app-todo-text\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.content, function (todoItem) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: todoItem.id,\n      \"text-todo-id\": todoItem.id,\n      \"data-status\": todoItem.status,\n      onKeydown: $setup.addNewItem,\n      \"class\": \"list__item\"\n    }, [_createElementVNode(\"span\", {\n      \"class\": \"i-check\",\n      onClick: $setup.changeStatus\n    }), _createVNode(_component_app_todo_text, {\n      modelValue: todoItem.text,\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return todoItem.text = $event;\n      },\n      \"class\": \"todo__input\",\n      focus: todoItem.focus,\n      status: todoItem.status,\n      \"onInput:blur\": $setup.removeFocus,\n      style: {\n        \"cols\": \"18\"\n      }\n    }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"focus\", \"status\"])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_Fragment","_renderList","$props","content","todoItem","key","id","status","onKeydown","$setup","addNewItem","_createElementVNode","onClick","changeStatus","_createVNode","_component_app_todo_text","text","$event","focus","removeFocus","style"],"sources":["C:\\Users\\Setis\\Documents\\alex\\vue-todo-app\\src\\components\\AppTodoList.vue"],"sourcesContent":["<template>\r\n    <div class=\"todo__items_list\">\r\n        <div\r\n            v-for=\"todoItem in content\"\r\n            :key=\"todoItem.id\"\r\n            :text-todo-id=\"todoItem.id\"\r\n            :data-status=\"todoItem.status\"\r\n            @keydown=\"addNewItem\"\r\n            class=\"list__item\"\r\n        >\r\n            <span class=\"i-check\" @click=\"changeStatus\"></span>\r\n            <app-todo-text\r\n                v-model=\"todoItem.text\"\r\n                class=\"todo__input\"\r\n                :focus=\"todoItem.focus\"\r\n                :status=\"todoItem.status\"\r\n                @input:blur=\"removeFocus\"\r\n                style=\"cols: 18\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"app-todo-list\",\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { defineProps, defineEmits } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    content: { type: Array, required: true },\r\n    itemId: { type: Number, required: true },\r\n    listCount: { type: Number, required: true },\r\n});\r\n\r\nconst emit = defineEmits([\"todo:changeStatus\", \"todo:addItem\", \"todo:removeItem\", \"input:blur\"]);\r\n\r\nfunction changeStatus(event) {\r\n    emit(\"todo:changeStatus\", {\r\n        itemId: props.itemId,\r\n        listCount: props.listCount,\r\n        todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n    });\r\n}\r\n\r\nfunction addNewItem(event) {\r\n    if (event.keyCode === 13) {\r\n        if (event.target.selectionStart < event.target.value.length) return;\r\n\r\n        event.preventDefault();\r\n        emit(\"todo:addItem\", {\r\n            itemId: props.itemId,\r\n            listCount: props.listCount,\r\n            todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n        });\r\n    } else if (event.keyCode === 8 && event.target.value == \"\") {\r\n        event.preventDefault();\r\n        // <!-- ? Set focus on previous element -->\r\n        const targetItem = event.target.closest(\".list__item\");\r\n\r\n        if (targetItem.previousSibling.tagName) {\r\n            event.preventDefault();\r\n            targetItem.previousSibling.querySelector(\"textarea\").focus();\r\n        }\r\n\r\n        emit(\"todo:removeItem\", {\r\n            itemId: props.itemId,\r\n            listCount: props.listCount,\r\n            todoId: Number(targetItem.getAttribute(\"text-todo-id\")),\r\n        });\r\n    }\r\n}\r\n\r\nfunction removeFocus(target) {\r\n    emit(\"input:blur\", {\r\n        itemId: props.itemId,\r\n        listCount: props.listCount,\r\n        todoId: Number(target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n    });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/vars\";\r\n.todo__items_list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    .list__item {\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: flex-start;\r\n        margin-bottom: 5px;\r\n\r\n        .todo__input {\r\n            position: relative;\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 0;\r\n                transform: translate(0, -50%);\r\n\r\n                width: 0;\r\n                height: 1px;\r\n                background-color: vars.$color-g-white;\r\n                transition: width 0.12s ease-in-out;\r\n            }\r\n        }\r\n\r\n        span {\r\n            width: 20px;\r\n            height: 20px;\r\n            font-size: 18px;\r\n            border: 1px solid vars.$color-g-white;\r\n            color: transparent;\r\n            border-radius: 50%;\r\n            margin-right: 10px;\r\n\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            padding-top: 2px;\r\n            transition: background-color 0.12s ease-in-out;\r\n        }\r\n        &[data-status=\"true\"] {\r\n            span {\r\n                color: vars.$color-g-dark;\r\n                background-color: vars.$color-g-white;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;;;;EACS,SAAM;AAAkB;;;;uBAA7BA,mBAAA,CAmBM,OAnBNC,UAmBM,I,kBAlBFD,mBAAA,CAiBME,SAAA,QAAAC,WAAA,CAhBiBC,MAAA,CAAAC,OAAO,YAAnBC,QAAQ;yBADnBN,mBAAA,CAiBM;MAfDO,GAAG,EAAED,QAAQ,CAACE,EAAE;MAChB,cAAY,EAAEF,QAAQ,CAACE,EAAE;MACzB,aAAW,EAAEF,QAAQ,CAACG,MAAM;MAC5BC,SAAO,EAAEC,MAAA,CAAAC,UAAU;MACpB,SAAM;QAENC,mBAAA,CAAmD;MAA7C,SAAM,SAAS;MAAEC,OAAK,EAAEH,MAAA,CAAAI;QAC9BC,YAAA,CAOEC,wBAAA;kBANWX,QAAQ,CAACY,IAAI;;eAAbZ,QAAQ,CAACY,IAAI,GAAAC,MAAA;MAAA;MACtB,SAAM,aAAa;MAClBC,KAAK,EAAEd,QAAQ,CAACc,KAAK;MACrBX,MAAM,EAAEH,QAAQ,CAACG,MAAM;MACvB,cAAU,EAAEE,MAAA,CAAAU,WAAW;MACxBC,KAAgB,EAAhB;QAAA;MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}