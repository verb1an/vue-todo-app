{"ast":null,"code":"import _slicedToArray from \"C:/Users/Setis/Documents/alex/vue-todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { reactive } from \"vue\";\nimport { useCheckList } from \"./checkList\";\nexport function useTodoItem() {\n  var todoItem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var val = reactive({});\n  var _loop = function _loop() {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    if (key == 'text') {\n      value.forEach(function (el) {\n        if (typeof el == \"string\") val[key].push(el);else val[key].push(useCheckList(el));\n      });\n    }\n    val[key] = value;\n  };\n  for (var _i = 0, _Object$entries = Object.entries(todoItem); _i < _Object$entries.length; _i++) {\n    _loop();\n  }\n  var setItemPos = function setItemPos(xPos, yPos) {\n    if (xPos) val.position.x = xPos;\n    if (yPos) val.position.y = yPos;\n  };\n  var setItemMenuPos = function setItemMenuPos(event) {\n    var menuType = \"menu\";\n    var item = event.target.closest(\".todo__item\");\n    val.menuToggle = !val.menuToggle;\n    if (window.innerWidth - item.getBoundingClientRect().right < 180) {\n      menuType += \"-left\";\n    } else {\n      menuType += \"-right\";\n    }\n    if (item.getBoundingClientRect().top < 120) {\n      menuType += \"-bottom\";\n    } else {\n      menuType += \"-top\";\n    }\n    item.setAttribute(\"menu-type\", menuType);\n    var listener = function listener(event) {\n      if (!event.target.closest(\".todo__item\")) {\n        if (event.target.closest(\".component\")) {\n          val.menuToggle = false;\n          document.removeEventListener(\"click\", listener, false);\n        }\n      } else {\n        if (event.target.closest(\".todo__item\").getAttribute(\"todo-id\") !== item.getAttribute(\"todo-id\")) {\n          val.menuToggle = false;\n          document.removeEventListener(\"click\", listener, false);\n        }\n      }\n    };\n    document.addEventListener(\"click\", listener, false);\n  };\n  var setLockItem = function setLockItem() {\n    val.lock = !val.lock;\n    val.menuToggle = false;\n  };\n  var addNewCheckList = function addNewCheckList() {\n    val.text.push([{\n      id: 1,\n      text: \"\",\n      status: false\n    }]);\n    val.text.push(\"\");\n  };\n\n  // const removeCheckList = (status) => {\n  //     const item = getItemInDataById(todoList.value, status.itemId);\n  //     const list = item.text[status.listCount];\n  //     list.splice(\n  //         list.findIndex((el) => el.id == status.todoId),\n  //         1\n  //     );\n\n  //     if (!list.length) {\n  //         if (typeof item.text[status.listCount - 1] === \"string\") {\n  //             if (typeof item.text[status.listCount + 1] === \"string\") {\n  //                 item.text[status.listCount - 1] += item.text[status.listCount + 1];\n  //                 item.text.splice(status.listCount + 1, 1);\n  //             }\n  //         } else {\n  //             if (typeof item.text[status.listCount + 1] !== \"string\") {\n  //                 item.text.splice(status.listCount - 1, 0, \"\");\n  //             }\n  //         }\n\n  //         item.text.splice(status.listCount, 1);\n  //     }\n  // }\n\n  var showDeleteDiolog = function showDeleteDiolog() {\n    return {\n      show: true,\n      message: \"Удалить этот пин?\",\n      func: {\n        type: \"item:delete\",\n        id: val.id\n      },\n      btn: {\n        yes: \"Удалить\",\n        no: \"Отмена\"\n      }\n    };\n  };\n  return {\n    val: val,\n    setItemPos: setItemPos,\n    setItemMenuPos: setItemMenuPos,\n    setLockItem: setLockItem,\n    addNewCheckList: addNewCheckList,\n    showDeleteDiolog: showDeleteDiolog\n  };\n}","map":{"version":3,"names":["reactive","useCheckList","useTodoItem","todoItem","arguments","length","undefined","val","_loop","_Object$entries$_i","_slicedToArray","_Object$entries","_i","key","value","forEach","el","push","Object","entries","setItemPos","xPos","yPos","position","x","y","setItemMenuPos","event","menuType","item","target","closest","menuToggle","window","innerWidth","getBoundingClientRect","right","top","setAttribute","listener","document","removeEventListener","getAttribute","addEventListener","setLockItem","lock","addNewCheckList","text","id","status","showDeleteDiolog","show","message","func","type","btn","yes","no"],"sources":["C:/Users/Setis/Documents/alex/vue-todo-app/src/hooks/todoItem.js"],"sourcesContent":["import { reactive } from \"vue\";\r\nimport { useCheckList } from \"./checkList\";\r\n\r\nexport function useTodoItem(todoItem = {}) {\r\n    const val = reactive({});\r\n\r\n    for (const [key, value] of Object.entries(todoItem)) {\r\n        if(key == 'text') {\r\n            value.forEach(el => {\r\n                if(typeof el == \"string\") val[key].push(el);\r\n                else val[key].push(useCheckList(el))\r\n            });\r\n        }\r\n        val[key] = value;\r\n    }\r\n\r\n    const setItemPos = (xPos, yPos) => {\r\n        if(xPos) val.position.x = xPos\r\n        if(yPos) val.position.y = yPos\r\n    }\r\n\r\n    const setItemMenuPos = (event) => {\r\n        let menuType = \"menu\";\r\n        const item = event.target.closest(\".todo__item\");\r\n        val.menuToggle = !val.menuToggle;\r\n\r\n        if (window.innerWidth - item.getBoundingClientRect().right < 180) {\r\n            menuType += \"-left\";\r\n        } else {\r\n            menuType += \"-right\";\r\n        }\r\n        if (item.getBoundingClientRect().top < 120) {\r\n            menuType += \"-bottom\";\r\n        } else {\r\n            menuType += \"-top\";\r\n        }\r\n\r\n        item.setAttribute(\"menu-type\", menuType);\r\n\r\n        const listener = (event) => {\r\n            if (!event.target.closest(\".todo__item\")) {\r\n                if (event.target.closest(\".component\")) {\r\n                    val.menuToggle = false;\r\n                    document.removeEventListener(\"click\", listener, false);\r\n                }\r\n            } else {\r\n                if (event.target.closest(\".todo__item\").getAttribute(\"todo-id\") !== item.getAttribute(\"todo-id\")) {\r\n                    val.menuToggle = false;\r\n                    document.removeEventListener(\"click\", listener, false);\r\n                }\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"click\", listener, false);\r\n    }\r\n\r\n    const setLockItem = () => {\r\n        val.lock = !val.lock;\r\n        val.menuToggle = false;\r\n    }\r\n\r\n    const addNewCheckList = () => {\r\n        val.text.push([\r\n            {\r\n                id: 1,\r\n                text: \"\",\r\n                status: false,\r\n            },\r\n        ]);\r\n        val.text.push(\"\");\r\n    }\r\n\r\n    // const removeCheckList = (status) => {\r\n    //     const item = getItemInDataById(todoList.value, status.itemId);\r\n    //     const list = item.text[status.listCount];\r\n    //     list.splice(\r\n    //         list.findIndex((el) => el.id == status.todoId),\r\n    //         1\r\n    //     );\r\n\r\n    //     if (!list.length) {\r\n    //         if (typeof item.text[status.listCount - 1] === \"string\") {\r\n    //             if (typeof item.text[status.listCount + 1] === \"string\") {\r\n    //                 item.text[status.listCount - 1] += item.text[status.listCount + 1];\r\n    //                 item.text.splice(status.listCount + 1, 1);\r\n    //             }\r\n    //         } else {\r\n    //             if (typeof item.text[status.listCount + 1] !== \"string\") {\r\n    //                 item.text.splice(status.listCount - 1, 0, \"\");\r\n    //             }\r\n    //         }\r\n\r\n    //         item.text.splice(status.listCount, 1);\r\n    //     }\r\n    // }\r\n\r\n    const showDeleteDiolog = () => {\r\n        return {\r\n            show: true,\r\n            message: \"Удалить этот пин?\",\r\n            func: {\r\n                type: \"item:delete\",\r\n                id: val.id,\r\n            },\r\n            btn: {\r\n                yes: \"Удалить\",\r\n                no: \"Отмена\",\r\n            },\r\n        };\r\n    }\r\n\r\n    return {\r\n        val,\r\n\r\n        setItemPos,\r\n        setItemMenuPos,\r\n        setLockItem,\r\n        addNewCheckList,\r\n        showDeleteDiolog\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}