{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nvar __default__ = {\n  name: \"app-todo-list\"\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  props: {\n    content: {\n      type: Array,\n      required: true\n    },\n    itemId: {\n      type: Number,\n      required: true\n    },\n    listCount: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: [\"todo:changeStatus\", \"todo:addItem\", \"todo:removeItem\", \"input:blur\"],\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose,\n      emit = _ref.emit;\n    expose();\n    var props = __props;\n    function changeStatus(event) {\n      emit(\"todo:changeStatus\", {\n        itemId: props.itemId,\n        listCount: props.listCount,\n        todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\"))\n      });\n    }\n    function addNewItem(event) {\n      if (event.keyCode === 13) {\n        if (event.target.selectionStart < event.target.value.length) return;\n        event.preventDefault();\n        emit(\"todo:addItem\", {\n          itemId: props.itemId,\n          listCount: props.listCount,\n          todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\"))\n        });\n      } else if (event.keyCode === 8 && event.target.value == \"\") {\n        event.preventDefault();\n        // <!-- ? Set focus on previous element -->\n        var targetItem = event.target.closest(\".list__item\");\n        if (targetItem.previousSibling.tagName) {\n          event.preventDefault();\n          targetItem.previousSibling.querySelector(\"textarea\").focus();\n        }\n        emit(\"todo:removeItem\", {\n          itemId: props.itemId,\n          listCount: props.listCount,\n          todoId: Number(targetItem.getAttribute(\"text-todo-id\"))\n        });\n      }\n    }\n    function removeFocus(target) {\n      emit(\"input:blur\", {\n        itemId: props.itemId,\n        listCount: props.listCount,\n        todoId: Number(target.closest(\".list__item\").getAttribute(\"text-todo-id\"))\n      });\n    }\n    var __returned__ = {\n      props: props,\n      emit: emit,\n      changeStatus: changeStatus,\n      addNewItem: addNewItem,\n      removeFocus: removeFocus\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["__default__","name","changeStatus","event","emit","itemId","props","listCount","todoId","Number","target","closest","getAttribute","addNewItem","keyCode","selectionStart","value","length","preventDefault","targetItem","previousSibling","tagName","querySelector","focus","removeFocus"],"sources":["C:/Users/Setis/Documents/alex/vue-todo-app/src/components/AppTodoList.vue"],"sourcesContent":["<template>\r\n    <div class=\"todo__items_list\">\r\n        <div\r\n            v-for=\"todoItem in content\"\r\n            :key=\"todoItem.id\"\r\n            :text-todo-id=\"todoItem.id\"\r\n            :data-status=\"todoItem.status\"\r\n            @keydown=\"addNewItem\"\r\n            class=\"list__item\"\r\n        >\r\n            <span class=\"i-check\" @click=\"changeStatus\"></span>\r\n            <app-todo-text\r\n                v-model=\"todoItem.text\"\r\n                class=\"todo__input\"\r\n                :focus=\"todoItem.focus\"\r\n                :status=\"todoItem.status\"\r\n                @input:blur=\"removeFocus\"\r\n                style=\"cols: 18\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"app-todo-list\",\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { defineProps, defineEmits } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    content: { type: Array, required: true },\r\n    itemId: { type: Number, required: true },\r\n    listCount: { type: Number, required: true },\r\n});\r\n\r\nconst emit = defineEmits([\"todo:changeStatus\", \"todo:addItem\", \"todo:removeItem\", \"input:blur\"]);\r\n\r\nfunction changeStatus(event) {\r\n    emit(\"todo:changeStatus\", {\r\n        itemId: props.itemId,\r\n        listCount: props.listCount,\r\n        todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n    });\r\n}\r\n\r\nfunction addNewItem(event) {\r\n    if (event.keyCode === 13) {\r\n        if (event.target.selectionStart < event.target.value.length) return;\r\n\r\n        event.preventDefault();\r\n        emit(\"todo:addItem\", {\r\n            itemId: props.itemId,\r\n            listCount: props.listCount,\r\n            todoId: Number(event.target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n        });\r\n    } else if (event.keyCode === 8 && event.target.value == \"\") {\r\n        event.preventDefault();\r\n        // <!-- ? Set focus on previous element -->\r\n        const targetItem = event.target.closest(\".list__item\");\r\n\r\n        if (targetItem.previousSibling.tagName) {\r\n            event.preventDefault();\r\n            targetItem.previousSibling.querySelector(\"textarea\").focus();\r\n        }\r\n\r\n        emit(\"todo:removeItem\", {\r\n            itemId: props.itemId,\r\n            listCount: props.listCount,\r\n            todoId: Number(targetItem.getAttribute(\"text-todo-id\")),\r\n        });\r\n    }\r\n}\r\n\r\nfunction removeFocus(target) {\r\n    emit(\"input:blur\", {\r\n        itemId: props.itemId,\r\n        listCount: props.listCount,\r\n        todoId: Number(target.closest(\".list__item\").getAttribute(\"text-todo-id\")),\r\n    });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/vars\";\r\n.todo__items_list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    .list__item {\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: flex-start;\r\n        margin-bottom: 5px;\r\n\r\n        .todo__input {\r\n            position: relative;\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 0;\r\n                transform: translate(0, -50%);\r\n\r\n                width: 0;\r\n                height: 1px;\r\n                background-color: vars.$color-g-white;\r\n                transition: width 0.12s ease-in-out;\r\n            }\r\n        }\r\n\r\n        span {\r\n            width: 20px;\r\n            height: 20px;\r\n            font-size: 18px;\r\n            border: 1px solid vars.$color-g-white;\r\n            color: transparent;\r\n            border-radius: 50%;\r\n            margin-right: 10px;\r\n\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            padding-top: 2px;\r\n            transition: background-color 0.12s ease-in-out;\r\n        }\r\n        &[data-status=\"true\"] {\r\n            span {\r\n                color: vars.$color-g-dark;\r\n                background-color: vars.$color-g-white;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;AAwBA,IAAAA,WAAA,GAAe;EACXC,IAAI,EAAE;AACV,CAAC;;;;;;;;;;;;;;;;;;;;;;IAcD,SAASC,YAAYA,CAACC,KAAK,EAAE;MACzBC,IAAI,CAAC,mBAAmB,EAAE;QACtBC,MAAM,EAAEC,KAAK,CAACD,MAAM;QACpBE,SAAS,EAAED,KAAK,CAACC,SAAS;QAC1BC,MAAM,EAAEC,MAAM,CAACN,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC,CAACC,YAAY,CAAC,cAAc,CAAC;MACnF,CAAC,CAAC;IACN;IAEA,SAASC,UAAUA,CAACV,KAAK,EAAE;MACvB,IAAIA,KAAK,CAACW,OAAO,KAAK,EAAE,EAAE;QACtB,IAAIX,KAAK,CAACO,MAAM,CAACK,cAAc,GAAGZ,KAAK,CAACO,MAAM,CAACM,KAAK,CAACC,MAAM,EAAE;QAE7Dd,KAAK,CAACe,cAAc,EAAE;QACtBd,IAAI,CAAC,cAAc,EAAE;UACjBC,MAAM,EAAEC,KAAK,CAACD,MAAM;UACpBE,SAAS,EAAED,KAAK,CAACC,SAAS;UAC1BC,MAAM,EAAEC,MAAM,CAACN,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC,CAACC,YAAY,CAAC,cAAc,CAAC;QACnF,CAAC,CAAC;MACN,CAAC,MAAM,IAAIT,KAAK,CAACW,OAAO,KAAK,CAAC,IAAIX,KAAK,CAACO,MAAM,CAACM,KAAK,IAAI,EAAE,EAAE;QACxDb,KAAK,CAACe,cAAc,EAAE;QACtB;QACA,IAAMC,UAAU,GAAGhB,KAAK,CAACO,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC;QAEtD,IAAIQ,UAAU,CAACC,eAAe,CAACC,OAAO,EAAE;UACpClB,KAAK,CAACe,cAAc,EAAE;UACtBC,UAAU,CAACC,eAAe,CAACE,aAAa,CAAC,UAAU,CAAC,CAACC,KAAK,EAAE;QAChE;QAEAnB,IAAI,CAAC,iBAAiB,EAAE;UACpBC,MAAM,EAAEC,KAAK,CAACD,MAAM;UACpBE,SAAS,EAAED,KAAK,CAACC,SAAS;UAC1BC,MAAM,EAAEC,MAAM,CAACU,UAAU,CAACP,YAAY,CAAC,cAAc,CAAC;QAC1D,CAAC,CAAC;MACN;IACJ;IAEA,SAASY,WAAWA,CAACd,MAAM,EAAE;MACzBN,IAAI,CAAC,YAAY,EAAE;QACfC,MAAM,EAAEC,KAAK,CAACD,MAAM;QACpBE,SAAS,EAAED,KAAK,CAACC,SAAS;QAC1BC,MAAM,EAAEC,MAAM,CAACC,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC,CAACC,YAAY,CAAC,cAAc,CAAC;MAC7E,CAAC,CAAC;IACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}